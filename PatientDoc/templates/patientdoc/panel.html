{% load io main_menu %}

{% if member_info %}
{% with user_id=member_info.user_id|stringformat:"i" user_profile=member_info.user.profile %}

<!-- Seleceted Member Profile -->
<div class="content-wrapper">
    <div class="member-panel">

<div class="info">
    <div class="container">
        <div class="photo-container">
            <div class="photo" style="background-image: url({% profile_pic user_id %})"
                data-pjax data-pjax-push="false" data-pjax-url="{% url 'profile_photo' user_id %}" data-pjax-container="modal">
                
                <div class="change-overlay">Change</div>
            </div>
        </div>
        <div class="detail-container">
            <span class="detail-bold">
                {{member_info.user.first_name}} {{member_info.user.last_name}}
            </span>
            <!---->
            
        </div>
    </div>
    <div class="member-options">
        <div class="member-option-btn icon-edit" data-pjax data-pjax-push="false" data-pjax-container="modal" 
            data-pjax-url="{% url 'member_update' user_id %}"></div>
        <div class="member-option-btn icon-calendarfill"></div>
        <div class="member-option-btn icon-chatfill"></div>
    </div>
</div>
<!-- Doc Menus -->
<div class="member-menu">
    <div class="overlay-scroll">
        {% menu_list as menuList %}
        {% for item in menuList %}
        {% if item.label == 'Seperator' %}
            <div class="seperator"></div>
        {% elif item.submenu %}
        <div class="column">
            <div class="main">
                <div class="icon icon-{{item.icon}}"></div>
                <div class="title">{{item.label}}</div>
                <div class="badge-container">
                    {% if item.badge %}
                        <div class="badge {{item.badgeColor}}">
                            <span>{{item.badge}}</span>
                        </div>
                    {% endif %}
                </div>
                <div class="expander">
                    <span class="icon-right"></span>
                </div>
            </div>
            <div class="submenu">
                {% for subitem in item.submenu %}
                <div class="item {% if category_info.id == subitem.id %} active {% endif %}" data-pjax data-pjax-container="#idDocCat"
                    data-pjax-url="{% url 'doc_cat' user_id subitem.id %}" data-pjax-success="initCarousel">
                    <span>‚óè {{subitem.label}}</span>
                </div>
                {% endfor %}
            </div>
        </div>
        {% else %}
        <div class="column {% if category_info.id == item.id %} active {% endif %}" data-pjax data-pjax-container="#idDocCat"
            data-pjax-url="{% url 'doc_cat' user_id item.id %}" data-pjax-success="initCarousel">
            <div class="main">
                <div class="icon icon-{{item.icon}}"></div>
                <div class="title">{{item.label}}</div>
                <div class="badge-container">
                    {% if item.badge %}
                    <div class="badge {{item.badgeColor}}">
                        <span>{{item.badge}}</span>
                    </div>
                    {% endif %}
                </div>
                <div class="expander"></div>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>

</div>
</div>

{% endwith %}
{% endif %}